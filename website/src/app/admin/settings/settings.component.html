<section class="py-3" *ngIf="!((progress$ | async) === null)">
  <div class="container">
    <w3s-progress [progress]="progress$ | async" header="Updating your shop config..."></w3s-progress>
  </div>
</section>

<section class="py-3" *ngIf="(progress$ | async) === null">
  <div class="container">
    <w3s-title title="Settings">Check and modify the details of your shop.</w3s-title>
    <div class="row">
      <div class="col">
        <form [formGroup]="settingsForm" (ngSubmit)="onSubmit()">
          <div class="form-group row">
            <label for="shopName" class="col-sm-2 col-form-label"><strong>Shop Name</strong></label>
            <div class="col-sm-10">
              <input formControlName="shopName" type="text" id="shopName" maxlength="20" class="form-control"
                placeholder="Enter your Shop Name" aria-describedby="shopNameHelp">
              <small id="shopNameHelp" class="form-text text-muted">
                Choose an interesting name for your shop. Keep it under 20 characters.
              </small>
            </div>
          </div>
          <div class="form-group row">
            <label for="shortDesc" class="col-sm-2 col-form-label"><strong>Short Description</strong></label>
            <div class="col-sm-10">
              <input formControlName="shortDescription" type="text" class="form-control" id="shortDesc" maxlength="160"
                aria-describedby="shortDescHelp" placeholder="Short Description">
              <small id="shortDescHelp" class="form-text text-muted">
                Try to come up with a short punch-line describing the contents of your shop. This will also be included
                in the generated cards, if someone shares your shop. Maximum are 160 characters.
              </small>
            </div>
          </div>
          <div class="form-group row">
            <label for="keywords" class="col-sm-2 col-form-label"><strong>Keywords</strong></label>
            <div class="col-sm-10">
              <w3s-keywords-editor [keywords]="keywords"></w3s-keywords-editor>
            </div>
          </div>
          <div class="form-group row">
            <label for="description" class="col-sm-2 col-form-label">
              <strong>Description</strong>
              You can use <a href="https://daringfireball.net/projects/markdown/syntax" target="_blank">Markdown</a> to
              format this text.
            </label>
            <div class="col-sm-10">
              <textarea formControlName="description" class="form-control" id="description" rows="25"
                aria-describedby="descriptionHelp"></textarea>
            </div>
          </div>
          <div class="form-group row text-right">
            <div class="col">
              <button type="submit" [disabled]="!settingsForm.valid" class="btn btn-primary" (click)="onSubmit()">Save</button>
              <a routerLink="../.." class="btn btn-secondary ms-3">Cancel</a>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</section>